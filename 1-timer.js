import"./assets/styles-D8iOb5re.js";import{f as u,i as l}from"./assets/vendor-BbbuE1sJ.js";class c{constructor(){this.startButton=document.querySelector("[data-start]"),this.datetimePicker=document.querySelector("#datetime-picker"),this.daysElement=document.querySelector("[data-days]"),this.hoursElement=document.querySelector("[data-hours]"),this.minutesElement=document.querySelector("[data-minutes]"),this.secondsElement=document.querySelector("[data-seconds]"),this.userSelectedDate=null,this.countdownInterval=null,this.startButton.disabled=!0,this.initFlatpickr(),this.startButton.addEventListener("click",()=>this.startCountdown())}initFlatpickr(){u(this.datetimePicker,{enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,onClose:t=>this.handleDateSelection(t)})}handleDateSelection(t){const e=t[0];e>new Date?(this.userSelectedDate=e,this.startButton.disabled=!1):(l.error({title:"",message:"Please choose a date in the future",position:"topRight",backgroundColor:"#fb6969",messageColor:"white",icon:"",progressBar:!1,timeout:2e4,animateInside:!1,messageSize:"16",transitionIn:"fadeIn"}),this.startButton.disabled=!0)}startCountdown(){this.startButton.disabled=!0,this.datetimePicker.disabled=!0,this.countdownInterval=setInterval(()=>{const t=this.userSelectedDate-new Date;if(t<=0){clearInterval(this.countdownInterval),this.updateTimerDisplay(0,0,0,0),this.datetimePicker.disabled=!1;return}const{days:e,hours:s,minutes:n,seconds:i}=this.convertMs(t);this.updateTimerDisplay(e,s,n,i)},1e3)}convertMs(t){const a=Math.floor(t/864e5),o=Math.floor(t%864e5/36e5),r=Math.floor(t%864e5%36e5/6e4),d=Math.floor(t%864e5%36e5%6e4/1e3);return{days:a,hours:o,minutes:r,seconds:d}}addLeadingZero(t){return String(t).padStart(2,"0")}updateTimerDisplay(t,e,s,n){this.daysElement.textContent=this.addLeadingZero(t),this.hoursElement.textContent=this.addLeadingZero(e),this.minutesElement.textContent=this.addLeadingZero(s),this.secondsElement.textContent=this.addLeadingZero(n)}}new c;
//# sourceMappingURL=1-timer.js.map
